# 8. 지역변수 생성

 

### 1. 클로저로 Private member 만들기

1. 외부로부터의 접근 차단
2. 전역 변수 최소화

 

```javascript
var car = {
	fuel: 10,
	power: 2,
	total: 0,
	run : function(km) {
		var wasteFuel = km / this.power;
		if(this.fuel < wasteFuel) {
			console.log('이동 불가');
			return;
		}
		this.fuel -= wasteFuel;
		this.total += km;
	}
};
```

* 위와 같은 코드에서는 사용자가 임의로 car.fuel = 100, car.power=50 과 같이 값을 변경할 수 있다. 그렇기 때문에 문제가 있다.

```javascript
var createCar = function(f,p) {
	var fuel = f;
	var power = p;
	var total = 0;
	return {
		run: function(km) {
			var wasteFuel = km / power;
			if(this.fuel < wasteFuel) {
			console.log('이동 불가');
			return;
		}
		fuel -= wasteFuel;
		total += km;
	}
};

var car = createCar(10,2);
```

* 위와 같이 바꾸면 사용자가 임의로 변수의 값을 바꿀 수 없다.



1. 함수에서 지역변수 및 내부함수 등을 생성한다.

2. 외부에 노출시키고자 하는 멤버들로 구성된 객체를 return한다.

   -> return한 객체에 포함되지 않은 멤버들은 private 하고, 포함된 멤버는 public하다.



* return function ==> 최초 선언시의 정보를 유지한다.





